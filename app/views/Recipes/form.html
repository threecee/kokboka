#{extends 'master.html' /}



<div id="stacks">
    <div id="tasks" class="stack" style="padding-left: 0px;">
        <div class="tasks-scroll">




         <div class="addtask" style="">
                 <input type="text" name="title"
                        value="${recipe?.title}" id="title" class="transparent mousetrap" key-placeholder="placeholder_title_$" data-placeholder="title" placeholder="Tittel" style="font-size: 20px;" />
         </div>


            <div class="addtask" style="">
                    <textarea name="description" rows="5"
                           value="${recipe?.description}" id="description" class="transparent mousetrap" key-placeholder="placeholder_title_$" data-placeholder="description" placeholder="Beskriv oppskriften her" style="font-size: 14px;"   ></textarea>
            </div>


            <h2 style="display: block; font-size: 20px">Oppskriften holder til</h2>
            <div class="addtask" style="">

                <a class="input-date"><span class="icon input-date transparent"></span></a>
                <input style="width:15%" id="serves" type="text" class="transparent mousetrap" maxlength="255"
                       key-placeholder="placeholder_add_task_to_$" data-placeholder="amount" placeholder="antall">
                <input id="servesUnit" style="width:60%" type="text" class="transparent mousetrap" maxlength="255"
                       key-placeholder="placeholder_add_task_to_$" data-placeholder="Inbox"
                       placeholder="enhet, for eksempel stk eller personer (trykk enter her for å legge til)">
            </div>


        <h2 style="display: block; font-size: 20px">
        Ingredienser
        </h2>
            <div class="addtask" style="">

                <a class="input-date"><span class="icon input-date transparent"></span></a>
                <input style="width:15%" id="add-amount" type="text" class="transparent mousetrap" maxlength="255"
                       key-placeholder="placeholder_add_task_to_$" data-placeholder="amount" placeholder="Mengde">
                <input id="add-unit" style="width:15%" type="text" class="transparent mousetrap" maxlength="255"
                       key-placeholder="placeholder_add_task_to_$" data-placeholder="unit" placeholder="enhet">
                <input id="add-description" style="width:60%" type="text" class="transparent mousetrap" maxlength="255"
                       key-placeholder="placeholder_add_task_to_$" data-placeholder="Inbox"
                       placeholder="navn på ingrediens (trykk enter her for å legge til)">
            </div>
            <div class="task-list">
                <div class="grouped-tasks" rel="inbox">
                    <ol class="tasks" id="ingredient-tasks" style="padding-left:0px;">
                    #{list items:recipe.ingredients, as:'ingredient'}
                        <li class="task-item" id="${ingredient.id}">
                            <div class="task-body"><a class="task-checkbox"><span
                                    class="icon check-trash "></span></a> <a class="icon task-separator"></a>

                                <div class="title-wrapper"><span
                                        class="title">
                                    #{if !ingredient.type.equals(models.ShoppingListItemType.onthefly) }
                                        <span>${utils.Currency.prettyDouble(ingredient.amount)} ${ingredient.unit}</span>
                                    #{/if}
                                ${ingredient.description}</span>
                                </div>
                            </div>
                        </li>
                    #{/list}
                    </ol>

                </div>
            </div>

            <h2 style="display: block; font-size: 20px">
            Fremgangsmåte
            </h2>
            <div class="addtask" style="">
                    <textarea name="steps" rows="5"
                           value="${recipe?.steps}" id="steps" class="transparent mousetrap" key-placeholder="placeholder_title_$" data-placeholder="steps" placeholder="Beskriv fremgangsmåten her" style="font-size: 14px;"   ></textarea>
            </div>


        </div>
    </div>
</div>



<!--

#{form @save(recipe?.id), enctype:'multipart/form-data'}

    #{ifErrors}
    <p class="error">
        Vennligst rett opp disse feilene.
    </p>
    #{/ifErrors}


<div id="recipe">
    <div class="">

        <div id="ingress">
            <h3>Ingress</h3>

            <p>#{field 'description'}
                <textarea name="${field.name}"
                          class="${field.errorClass}">${recipe?.description}</textarea>
            #{/field}
            </p>
        </div>


        <br class="clear">

        <div id="fremgangsmote">
            <div class="stepByStepItem_noImage">
                #{field 'steps'}
                    <label>Beskriv tilbereding av oppskriften her:</label>
                    <textarea name="${field.name}"
                              class="${field.errorClass}">${recipe?.steps}</textarea>
                #{/field}
            </div>
        </div>


        <h3>Ingredienser</h3>

        <div id="ingredient">
            <div class="ingredient_parent">
                <div class="mengdeEnhet">(antall) (enhet)}</div>
                <div class="produktnavn">(navn)</div>
            </div>
            #{list items:_recipe?.ingredients, as:'ingredient'}
                <div class="ingredient_parent">
                    <div class="mengdeEnhet">                         #{field 'amounts'}
                        <input type="text" name="${field.name}" value="${ingredient.amount}" size="1"
                               class="${field.errorClass}"/>
                    #{/field} #{field 'units'}
                        <input type="text" name="${field.name}" value="${ingredient.unit}" size="1"
                               class="${field.errorClass}"/>
                    #{/field}
                    </div>
                    <div class="produktnavn">#{field 'ingredients'}
                        <input type="text" name="${field.name}" value="${ingredient.description}"
                               class="${field.errorClass}" size="100"/>
                    #{/field}
                    </div>
                </div>
            #{/list}
            #{list items:0..7, as:'i'}
                <div class="ingredient_parent">
                    <div class="mengdeEnhet">
                        #{field 'amounts'}
                        <input type="text" name="${field.name}" value="${field.value}" size="1"
                               class="${field.errorClass}"/>
                    #{/field} #{field 'units'}
                        <input type="text" name="${field.name}" value="${field.value}" size="1"
                               class="${field.errorClass}"/>
                    #{/field}
                    </div>
                    <div class="produktnavn">#{field 'ingredients'}
                        <input type="text" name="${field.name}" value="${field.value}"
                               class="${field.errorClass}" size="100"/>
                    #{/field}
                    </div>
                </div>
            #{/list}
        </div>


        <div class="recipeImage">

            #{if recipe?.photoName }
                <img src="${Images.get(recipe)}">
            #{/if}

            #{field 'photo'}
                <label>Last opp bilde:</label>
                <input type="file" name="${field.name}">
            #{/field}



            <div id="recipeToolbar">
                #{field 'tags'}
                    <label>Legg inn noen merkelapper:</label>
                    <input type="text" size="50"
                           name="${field.name}" value="${recipe?.tags?.join(' ')}"/>
                #{/field}
            </div>

        </div>

        <div id="slider">

            <label><strong>Oppskriften gir (antall og enhet):</strong></label>
            <span id="adultRange">
            #{field 'serves'}
                <input type="text" name="${field.name}" class="${field.errorClass}" value="${recipe?.serves}"/>
            #{/field}
                #{field 'servesUnit'}
                    <input type="text" name="${field.name}" class="${field.errorClass}" value="${recipe?.servesUnit}"/>
                #{/field}
            </span>


        </div>


        <p>
            #{field 'source'}
                <label>Oppskriftens kilde, navn eller url:</label>
                <input type="text" name="${field.name}"
                       value="${recipe?.source}" class="${field.errorClass}"/>
            #{/field}

        </p>

    </div>


</div>


<p>
    <input type="submit" value="Lagre"/>
</p>

#{/form}

-->